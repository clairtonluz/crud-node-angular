<h1 class="page-header">
    <a ng-href="#/users">
        <i class="fa fa-arrow-circle-left"></i>
    </a>
    Usuário
    <small>{{user.id ? 'Editar' : 'Novo'}}</small>
</h1>

<form name="form" class="form-horizontal" ng-submit="form.$valid && save(user)" novalidate>
    <div class="col-lg-4" ng-class="{'has-error': (form.name.$invalid && (form.$submitted || form.name.$touched))}">
        <label>Nome</label>
        <input name="name" ng-model="user.name" class="form-control" type="text" required>
        <p class="help-block" ng-show="form.$submitted || form.name.$touched">
            <i ng-show="form.name.$error.required">Qual o nome do usuário?</i>
        </p>
    </div>

    <div class="col-lg-2"
         ng-class="{'has-error': (form.email.$invalid && (form.$submitted || form.email.$touched))}">
        <label>Email</label>
        <div class="input-group">
            <input name="email" ng-model="user.email" class="form-control" type="email" required>
        </div>
        <p class="help-block" ng-show="form.$submitted || form.email.$touched">
            <i ng-show="form.email.$error.required">Qual seu email?</i>
        </p>
    </div>

    <div class="col-lg-2"
         ng-class="{'has-error': (form.password.$invalid && (form.$submitted || form.password.$touched))}">
        <label>Senha</label>
        <div class="input-group">
            <input name="password" ng-model="user.password" class="form-control" type="password" required>
        </div>
        <p class="help-block" ng-show="form.$submitted || form.password.$touched">
            <i ng-show="form.password.$error.required">É preciso informar uma senha.</i>
        </p>
    </div>

    <div class="col-lg-2"
         ng-class="{'has-error': (form.passwordConfirm.$invalid && (form.$submitted || form.passwordConfirm.$touched))}">
        <label>Confirmar senha</label>
        <div class="input-group">
            <input name="passwordConfirm" ng-model="passwordConfirm" class="form-control" type="passwordConfirm"
                   required
                   match="user.password">
        </div>
        <p class="help-block" ng-show="form.$submitted || form.passwordConfirm.$touched">
            <i ng-show="form.passwordConfirm.$error.required">Confirme sua senha</i>
            <i ng-show="form.passwordConfirm.$error.match">Senha não confere</i>
        </p>
    </div>

    <div class="col-lg-2" ng-class="{'has-error': (form.admin.$invalid && (form.$submitted || form.admin.$touched))}">
        <label>Administrador</label>
        <input name="admin" ng-model="user.admin" class="form-control" type="checkbox">
    </div>

    <div class="col-lg-12">
        <br/>
        <br/>

        <div class="pull-right">
            <button class="btn btn-primary" type="submit">{{user.id ? 'Atualizar' : 'Salvar'}}</button>
            <button class="btn btn-danger" type="button" ng-show="user.id" ng-click="remove(user)"
                    confirm="Tem certeza que desseja remover o user {{user.nome}}?">
                Remover
            </button>
            <a ng-href="#/users" class="btn btn-default">Voltar</a>
        </div>
        <br/>
        <br/>
    </div>
</form>
